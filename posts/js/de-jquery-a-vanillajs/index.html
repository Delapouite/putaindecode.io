<!doctype html><html lang="fr" class="r-VerticalRhythm"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=Edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, minimal-ui"><title>De jQuery à Vanilla JS</title><link rel="stylesheet" href="/index.css"><link rel="alternate" href="/feed.xml" title="De jQuery à Vanilla JS" type="application/atom+xml"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@putaindecode"><meta name="twitter:title" content="De jQuery à Vanilla JS"><meta name="twitter:creator" content="@_kud"><meta property="og:title" content="De jQuery à Vanilla JS"><meta property="og:type" content="article"><meta property="og:site_name" content="Putain de code !"></head><body><div class="putainde-Header"><div class="r-Grid"><div class="r-Grid-cell r-all--5of12"><a class="putainde-SiteTitle" href="/"><img class="putainde-Logo" alt="Putain de code !" src="/images/p!-logo.svg"><span>Putain de code !</span></a></div><div class="r-Grid-cell r-all--7of12"><nav class="putainde-Nav"><a class="putainde-Nav-item" href="/posts" data-r-tooltip=""><img class="putainde-Icon" src="/icons/bookmark.svg">Articles</a><a class="putainde-Nav-item" href="/c-est-quoi-putaindecode" data-r-tooltip=""><img class="putainde-Icon" src="/icons/text-file.svg">Readme</a><a class="putainde-Nav-item" href="/posts/comment-contribuer" data-r-tooltip=""><img class="putainde-Icon" src="/icons/pencil.svg">Participer</a><a class="putainde-Nav-item putainde-Nav-item--icon r-Tooltip r-Tooltip r-Tooltip--bottom" href="https://github.com/putaindecode/" data-r-tooltip="GitHub"><img class="putainde-Icon" src="/icons/github.svg"></a><a class="putainde-Nav-item putainde-Nav-item--icon r-Tooltip r-Tooltip r-Tooltip--bottom" href="https://twitter.com/putaindecode/" data-r-tooltip="Twitter"><img class="putainde-Icon" src="/icons/twitter.svg"></a></nav></div></div></div><div class="putainde-Main"><article class="r-Grid putainde-Post"><div class="r-Grid-cell r-all--8of12 putainde-Post-contents"><div class="putainde-Title"><h1 class="putainde-Title-text">De jQuery à Vanilla JS</h1></div><header class="putainde-Post-header"><div class="putainde-Post-metas"><span>Écrit par <span><a href="http://kud.io">kud</a><span></span></span></span><span>, </span><span class="putainde-Date"> le 5 déc. 2013</span>. <span class="r-Tooltip r-Tooltip--top putainde-Post-readingTime" data-r-tooltip="Temps de lecture approximatif, sur une base de 250 mots par minute">Temps de lecture : environ 2 minutes</span></div><ul class="putainde-Tags putainde-Post-tags"><li class="putainde-Tag">javascript</li><li class="putainde-Tag">jquery</li><li class="putainde-Tag">vanillajs</li></ul></header><div class="putainde-Post-md"><div><figure class="putainde-Media putainde-Media--left"><img src="http://0.0.0.0:4242/posts/js/de-jquery-a-vanillajs/jquery-die.jpg" alt=""></figure>

<p>Oui alors jQuery, c’est sûrement très bien, ça simplifie pas mal de choses et le <em>chaining</em> est intéressant mais eeeest-ce que vous connaissez l’équivalent en <em>pur</em> JavaScript ? Pas sûr hein.</p>
<p>Ce petit article vous propose de quoi peut-être vous faire changer d’avis sur la bibliothèque qui pèse tout de même environ ~80ko.</p>
<p><em>Note : <a href="http://vanilla-js.com/" >Vanilla JS</a> n’est pas un framework mais veut simplement dire “à nu”, c’est du JavaScript sans bibliothèque.</em></p>
<p>C’est parti !</p>
<h2 id="table-des-matieres">
      <a class="putainde-Title-anchor" href="http://0.0.0.0:4242/posts/js/de-jquery-a-vanillajs/#table-des-matieres">#</a>
      Table des matières
    </h2><ol>
<li><a href="/posts/js/de-jquery-a-vanillajs/#-v-nements" >Évènements</a></li>
<li><a href="/posts/js/de-jquery-a-vanillajs/#s-lecteurs" >Sélecteurs</a></li>
<li><a href="/posts/js/de-jquery-a-vanillajs/#attributs" >Attributs</a></li>
<li><a href="/posts/js/de-jquery-a-vanillajs/#classes" >Classes</a></li>
<li><a href="/posts/js/de-jquery-a-vanillajs/#manipulation" >Manipulation</a></li>
<li><a href="/posts/js/de-jquery-a-vanillajs/#navigation" >Navigation</a></li>
<li><a href="/posts/js/de-jquery-a-vanillajs/#ajax" >AJAX</a></li>
<li><a href="/posts/js/de-jquery-a-vanillajs/#jsonp" >JSONP</a></li>
</ol>
<h2 id="evenements">
      <a class="putainde-Title-anchor" href="http://0.0.0.0:4242/posts/js/de-jquery-a-vanillajs/#evenements">#</a>
      Évènements
    </h2><pre><code class="lang-javascript"><span class="hljs-comment">// jQuery</span>
$(<span class="hljs-built_in">document</span>).ready(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
  <span class="hljs-comment">// code</span>
})

<span class="hljs-comment">// Vanilla</span>
<span class="hljs-built_in">document</span>.addEventListener(<span class="hljs-string">'DOMContentLoaded'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
  <span class="hljs-comment">// code</span>
})
</code></pre>
<pre><code class="lang-javascript"><span class="hljs-comment">// jQuery</span>
$(<span class="hljs-string">'a'</span>).click(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
  <span class="hljs-comment">// code…</span>
})

<span class="hljs-comment">// Vanilla</span>
[].forEach.call(<span class="hljs-built_in">document</span>.querySelectorAll(<span class="hljs-string">'a'</span>), <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(el)</span> </span>{
  el.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-comment">// code…</span>
  })
})
</code></pre>
<h2 id="selecteurs">
      <a class="putainde-Title-anchor" href="http://0.0.0.0:4242/posts/js/de-jquery-a-vanillajs/#selecteurs">#</a>
      Sélecteurs
    </h2><pre><code class="lang-javascript"><span class="hljs-comment">// jQuery</span>
<span class="hljs-keyword">var</span> divs = $(<span class="hljs-string">'div'</span>)

<span class="hljs-comment">// Vanilla</span>
<span class="hljs-keyword">var</span> divs = <span class="hljs-built_in">document</span>.querySelectorAll(<span class="hljs-string">'div'</span>)
</code></pre>
<pre><code class="lang-javascript"><span class="hljs-comment">// jQuery</span>
<span class="hljs-keyword">var</span> newDiv = $(<span class="hljs-string">'&lt;div/&gt;'</span>)

<span class="hljs-comment">// Vanilla</span>
<span class="hljs-keyword">var</span> newDiv = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'div'</span>)
</code></pre>
<h2 id="attributs">
      <a class="putainde-Title-anchor" href="http://0.0.0.0:4242/posts/js/de-jquery-a-vanillajs/#attributs">#</a>
      Attributs
    </h2><pre><code class="lang-javascript"><span class="hljs-comment">// jQuery</span>
$(<span class="hljs-string">'img'</span>).filter(<span class="hljs-string">':first'</span>).attr(<span class="hljs-string">'alt'</span>, <span class="hljs-string">'My image'</span>)

<span class="hljs-comment">// Vanilla</span>
<span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'img'</span>).setAttribute(<span class="hljs-string">'alt'</span>, <span class="hljs-string">'My image'</span>)
</code></pre>
<h2 id="classes">
      <a class="putainde-Title-anchor" href="http://0.0.0.0:4242/posts/js/de-jquery-a-vanillajs/#classes">#</a>
      Classes
    </h2><pre><code class="lang-javascript"><span class="hljs-comment">// jQuery</span>
newDiv.addClass(<span class="hljs-string">'foo'</span>)

<span class="hljs-comment">// Vanilla</span>
newDiv.classList.add(<span class="hljs-string">'foo'</span>)
</code></pre>
<pre><code class="lang-javascript"><span class="hljs-comment">// jQuery</span>
newDiv.toggleClass(<span class="hljs-string">'foo'</span>)

<span class="hljs-comment">// Vanilla</span>
newDiv.classList.toggle(<span class="hljs-string">'foo'</span>)
</code></pre>
<h2 id="manipulation">
      <a class="putainde-Title-anchor" href="http://0.0.0.0:4242/posts/js/de-jquery-a-vanillajs/#manipulation">#</a>
      Manipulation
    </h2><pre><code class="lang-javascript"><span class="hljs-comment">// jQuery</span>
$(<span class="hljs-string">'body'</span>).append($(<span class="hljs-string">'&lt;p/&gt;'</span>))

<span class="hljs-comment">// Vanilla</span>
<span class="hljs-built_in">document</span>.body.appendChild(<span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'p'</span>))
</code></pre>
<pre><code class="lang-javascript"><span class="hljs-comment">// jQuery</span>
<span class="hljs-keyword">var</span> clonedElement = $(<span class="hljs-string">'#about'</span>).clone()

<span class="hljs-comment">// Vanilla</span>
<span class="hljs-keyword">var</span> clonedElement = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'about'</span>).cloneNode(<span class="hljs-literal">true</span>)
</code></pre>
<pre><code class="lang-javascript"><span class="hljs-comment">// jQuery</span>
$(<span class="hljs-string">'#wrap'</span>).empty()

<span class="hljs-comment">// Vanilla</span>
<span class="hljs-keyword">var</span> wrap = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'wrap'</span>)
<span class="hljs-keyword">while</span>(wrap.firstChild) wrap.removeChild(wrap.firstChild)
</code></pre>
<h2 id="navigation">
      <a class="putainde-Title-anchor" href="http://0.0.0.0:4242/posts/js/de-jquery-a-vanillajs/#navigation">#</a>
      Navigation
    </h2><pre><code class="lang-javascript"><span class="hljs-comment">// jQuery</span>
<span class="hljs-keyword">var</span> parent = $(<span class="hljs-string">'#about'</span>).parent()

<span class="hljs-comment">// Vanilla</span>
<span class="hljs-keyword">var</span> parent = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'about'</span>).parentNode
</code></pre>
<pre><code class="lang-javascript"><span class="hljs-comment">// jQuery</span>
<span class="hljs-keyword">if</span>($(<span class="hljs-string">'#wrap'</span>).is(<span class="hljs-string">':empty'</span>))

<span class="hljs-comment">// Vanilla</span>
<span class="hljs-keyword">if</span>(!<span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'wrap'</span>).hasChildNodes())
</code></pre>
<pre><code class="lang-javascript"><span class="hljs-comment">// jQuery</span>
<span class="hljs-keyword">var</span> nextElement = $(<span class="hljs-string">'#wrap'</span>).next()

<span class="hljs-comment">// Vanilla</span>
<span class="hljs-keyword">var</span> nextElement = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'wrap'</span>).nextSibling
</code></pre>
<h2 id="ajax">
      <a class="putainde-Title-anchor" href="http://0.0.0.0:4242/posts/js/de-jquery-a-vanillajs/#ajax">#</a>
      AJAX
    </h2><h3 id="get">
      <a class="putainde-Title-anchor" href="http://0.0.0.0:4242/posts/js/de-jquery-a-vanillajs/#get">#</a>
      GET
    </h3><pre><code class="lang-javascript"><span class="hljs-comment">// jQuery</span>
$.get(<span class="hljs-string">'//example.com'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(data)</span> </span>{
  <span class="hljs-comment">// code</span>
})

<span class="hljs-comment">// Vanilla</span>
<span class="hljs-keyword">var</span> httpRequest = <span class="hljs-keyword">new</span> XMLHttpRequest()
httpRequest.onreadystatechange = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(data)</span> </span>{
  <span class="hljs-comment">// code</span>
}
httpRequest.open(<span class="hljs-string">'GET'</span>, url)
httpRequest.send()
</code></pre>
<h3 id="post">
      <a class="putainde-Title-anchor" href="http://0.0.0.0:4242/posts/js/de-jquery-a-vanillajs/#post">#</a>
      POST
    </h3><pre><code class="lang-javascript"><span class="hljs-comment">// jQuery</span>
$.post(<span class="hljs-string">'//example.com'</span>, { username: username }, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(data)</span> </span>{
  <span class="hljs-comment">// code</span>
})

<span class="hljs-comment">// Vanilla</span>
<span class="hljs-keyword">var</span> httpRequest = <span class="hljs-keyword">new</span> XMLHttpRequest()
httpRequest.onreadystatechange = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(data)</span> </span>{
  <span class="hljs-comment">// code</span>
}
httpRequest.setRequestHeader(<span class="hljs-string">'Content-Type'</span>, <span class="hljs-string">'application/x-www-form-urlencoded'</span>)
httpRequest.open(<span class="hljs-string">'POST'</span>, url)
httpRequest.send(<span class="hljs-string">'username='</span> + <span class="hljs-built_in">encodeURIComponent</span>(username))
</code></pre>
<h3 id="jsonp">
      <a class="putainde-Title-anchor" href="http://0.0.0.0:4242/posts/js/de-jquery-a-vanillajs/#jsonp">#</a>
      JSONP
    </h3><pre><code class="lang-javascript"><span class="hljs-comment">// jQuery</span>
$.getJSON(<span class="hljs-string">'//openexchangerates.org/latest.json?callback=?'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(data)</span> </span>{
  <span class="hljs-comment">// code</span>
})

<span class="hljs-comment">// Vanilla</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">success</span><span class="hljs-params">(data)</span> </span>{
  <span class="hljs-comment">// code</span>
}
<span class="hljs-keyword">var</span> scr = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'script'</span>)
scr.src = <span class="hljs-string">'//openexchangerates.org/latest.json?callback=formatCurrency'</span>
<span class="hljs-built_in">document</span>.body.appendChild(scr)
</code></pre>
<p>Cela vous parait-il encore difficile de vous passer de jQuery ? :)</p>
<p>Un grand merci à <a href="http://playground.deaxon.com/js/vanilla-js/" >@deaxon</a> qui est à l’origine de cet éclaircissement.</p>
<h2 id="a-creuser">
      <a class="putainde-Title-anchor" href="http://0.0.0.0:4242/posts/js/de-jquery-a-vanillajs/#a-creuser">#</a>
      À creuser
    </h2><p>Il existe une version minimaliste de jQuery basée sur la même API mais beaucoup plus légère s’appelant <a href="http://zeptojs.com/" >Zepto</a>. Il est actuellement utilisé en production sur le site mobile de ma boite.</p>
</div></div><footer class="putainde-Post-footer"><div class="putainde-Post-footer-title">Action sur cette page</div><div class="r-Grid"><div class="r-Grid-cell r-all--1of3"><a class="putainde-Post-footer-action" href="http://github.com/putaindecode/putaindecode.fr/posts/js/de-jquery-a-vanillajs/index.md/master/content/edit">Modifier</a></div><div class="r-Grid-cell r-all--1of3"><a class="putainde-Post-footer-action" href="http://github.com/putaindecode/putaindecode.fr/posts/js/de-jquery-a-vanillajs/index.md/master/content/blame">Tracer les changements</a></div><div class="r-Grid-cell r-all--1of3"><a class="putainde-Post-footer-action" href="http://github.com/putaindecode/putaindecode.fr/posts/js/de-jquery-a-vanillajs/index.md/master/content/commits">Historique</a></div></div><div><div class="putainde-Author undefined"><a href="http://kud.io" class="putainde-Avatar putainde-Author-picture"><img class="js-AnimateLoad" src="https://avatars.githubusercontent.com/u/655838?v=3&amp;s=128" alt=""></a><div class="putainde-Author-description"><div class="putainde-Author-title"><h3 class="putainde-Author-name"><span class="putainde-WrittenBy">Écrit par </span><a class="putainde-Link" href="http://kud.io">kud</a></h3><div class="putainde-Author-social"><a href="http://kud.io" class="r-Tooltip r-Tooltip--top" data-r-tooltip="Website"><img class="putainde-Icon" src="/icons/home.svg"></a><a href="https://twitter.com/_kud" class="r-Tooltip r-Tooltip--top" data-r-tooltip="Twitter"><img class="putainde-Icon" src="/icons/twitter.svg"></a><a href="https://github.com/kud" class="r-Tooltip r-Tooltip--top" data-r-tooltip="Github"><img class="putainde-Icon" src="/icons/github.svg"></a></div></div><p class="putainde-Author-bio">Viking UI engineer (avec une pointe de node.js), batteur, s&#x27;essayant à la photographie, aime le cinema.</p></div></div></div><div class="putainde-Contributors"><strong class="putainde-Contributors-label">4 contributeurs</strong><div class="putainde-Contributor r-Tooltip r-Tooltip--bottom r-Tooltip--allowNewLines" data-r-tooltip="MoOx
(8 commits)"><a href="http://moox.io/" class="putainde-Avatar putainde-Contributor-avatar"><img class="js-AnimateLoad" src="https://avatars.githubusercontent.com/u/157534?v=3&amp;s=128" alt=""></a></div><div class="putainde-Contributor r-Tooltip r-Tooltip--bottom r-Tooltip--allowNewLines" data-r-tooltip="kud
(5 commits)"><a href="http://kud.io" class="putainde-Avatar putainde-Contributor-avatar"><img class="js-AnimateLoad" src="https://avatars.githubusercontent.com/u/655838?v=3&amp;s=128" alt=""></a></div><div class="putainde-Contributor r-Tooltip r-Tooltip--bottom r-Tooltip--allowNewLines" data-r-tooltip="Macxim
(2 commits)"><a href="https://github.com/Macxim" class="putainde-Avatar putainde-Contributor-avatar"><img class="js-AnimateLoad" src="https://avatars.githubusercontent.com/u/1909957?v=3&amp;s=128" alt=""></a></div><div class="putainde-Contributor r-Tooltip r-Tooltip--bottom r-Tooltip--allowNewLines" data-r-tooltip="bloodyowl
(1 commit)"><a href="http://bloodyowl.github.io" class="putainde-Avatar putainde-Contributor-avatar"><img class="js-AnimateLoad" src="https://avatars.githubusercontent.com/u/1688645?v=3&amp;s=128" alt=""></a></div></div><div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div></footer></div></article></div><div class="putainde-Footer"><div class="r-Grid"><div class="r-Grid-cell r-all--3of12"><p class="putainde-Footer-text">© 1970 - 2015 Putain de code !</p></div><div class="r-Grid-cell r-all--6of12"><ul class="putainde-Footer-list"><li><a href="/feed.xml">Flux RSS</a></li><li><a href="/projets">Projets</a></li><li><a href="https://github.com/putaindecode/forum/issues">Forum</a></li><li><a href="irc://irc.freenode.net/putaindecode">IRC</a></li><li><a href="https://github.com/putaindecode/" data-r-tooltip="GitHub" class="r-Tooltip r-Tooltip--top"><img class="putainde-Icon" src="/icons/github.svg"></a></li><li><a href="https://twitter.com/putaindecode/" data-r-tooltip="Twitter" class="r-Tooltip r-Tooltip--top"><img class="putainde-Icon" src="/icons/twitter.svg"></a></li></ul></div><div class="r-Grid-cell r-all--3of12"><p class="putainde-Footer-text putainde-Footer-text--small putainde-Footer-text--right">Made with ♥︎</p></div></div></div><script src="/index.1a779b6.js"></script><script src="http://0.0.0.0:4243/livereload.js"></script><script>var _gaq=[["_setAccount","UA-43771806-1"],["_trackPageview"]];(function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];g.src="//www.google-analytics.com/ga.js";s.parentNode.insertBefore(g,s)}(document,"script"));</script><script>var disqus_shortname = "putaindecode";
var disqus_identifier = "http://putaindecode.fr/posts/js/de-jquery-a-vanillajs/";
var disqus_url = "http://putaindecode.fr/posts/js/de-jquery-a-vanillajs/";
var disqus_script = "embed.js";
(function(d,s) {
  s = d.createElement('script');s.async=1;
  s.src = '//' + disqus_shortname + '.disqus.com/'+disqus_script;
  (d.getElementsByTagName('head')[0]).appendChild(s)
})(document)
    </script></body></html>