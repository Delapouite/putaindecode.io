<html lang="fr" class="r-VerticalRhythm"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=Edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, minimal-ui"><title>napa ou comment télécharger un package qui napa de package.json</title><link rel="stylesheet" href="/index.css"><link rel="alternate" href="/feed.xml" title="napa ou comment télécharger un package qui napa de package.json" type="application/atom+xml"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@putaindecode"><meta name="twitter:title" content="napa ou comment télécharger un package qui napa de package.json"><meta name="twitter:creator" content="@_kud"><meta property="og:title" content="napa ou comment télécharger un package qui napa de package.json"><meta property="og:type" content="article"><meta property="og:site_name" content="Putain de code !"></head><body><div class="putainde-Header"><div class="r-Grid"><div class="r-Grid-cell r-all--5of12"><a class="putainde-SiteTitle" href="/"><img class="putainde-Logo" alt="Putain de code !" src="/images/p!-logo.svg"><span>Putain de code !</span></a></div><div class="r-Grid-cell r-all--7of12"><nav class="putainde-Nav"><a class="putainde-Nav-item" href="/posts" data-r-tooltip=""><img class="putainde-Icon" src="/icons/bookmark.svg">Articles</a><a class="putainde-Nav-item" href="/c-est-quoi-putaindecode" data-r-tooltip=""><img class="putainde-Icon" src="/icons/text-file.svg">Readme</a><a class="putainde-Nav-item" href="/posts/comment-contribuer" data-r-tooltip=""><img class="putainde-Icon" src="/icons/pencil.svg">Participer</a><a class="putainde-Nav-item putainde-Nav-item--icon r-Tooltip r-Tooltip--bottom" href="https://github.com/putaindecode/" data-r-tooltip="GitHub"><img class="putainde-Icon" src="/icons/github.svg"></a><a class="putainde-Nav-item putainde-Nav-item--icon r-Tooltip r-Tooltip--bottom" href="https://twitter.com/putaindecode/" data-r-tooltip="Twitter"><img class="putainde-Icon" src="/icons/twitter.svg"></a></nav></div></div></div><div class="putainde-Main"><article class="r-Grid putainde-Post"><div class="r-Grid-cell r-all--8of12 putainde-Post-contents"><div class="putainde-Title"><h1 class="putainde-Title-text">napa ou comment télécharger un package qui napa de package.json</h1></div><header class="putainde-Post-header"><div class="putainde-Post-metas"><span>Écrit par <span><a href="http://kud.io">kud</a><span></span></span></span><span>, </span><span class="putainde-Date"> le 12 mai 2014</span>. <span class="putainde-Post-readingTime putainde-Post-readingTime--hidden r-Tooltip r-Tooltip--top" data-r-tooltip="Temps de lecture approximatif, sur une base de {{wpm}} mots par minute" data-readingtime-wpm="250">Temps de lecture : environ  <span class="putainde-Post-readingTime-value">...</span> minutes</span></div><ul class="putainde-Tags putainde-Post-tags"><li class="putainde-Tag">npm</li><li class="putainde-Tag">javascript</li><li class="putainde-Tag">nodejs</li></ul></header><div class="putainde-Post-md"><div><p>(Grosse grosse blague ce titre…)</p>
<p><a href="https://twitter.com/kewah">@kewah</a> nous a récemment parlé de <a href="/posts/frontend/npm-comme-package-manager-pour-le-front-end/"><strong>npm</strong> comme front-end packager manager</a>, je vais aller encore plus loin. Je vais vous dévoiler comment installer des projets qui n’ont pas de <code>package.json</code>. Oui, car c’est bien beau de virer Bower (oh que oui c’est beau) mais comme npm requiert constamment un <code>package.json</code>, on ne va pas pouvoir télécharger grand chose sauf si on fait des <em>PR</em> afin d’ajouter ce fichier sur les projets que l’on souhaite obtenir.</p>
<p>C’est pourquoi je vais vous parler de <a href="https://github.com/shama/napa"><strong>napa</strong></a>.</p>
<p>napa est un <em>helper for installing stuff without a package.json with npm</em>. Pardon, napa est un aideur pour installer des trucs sans un package.json avec npm. BON. napa vous aide à travers npm à installer des modules qui n’ont pas de package.json. C’est plus clair là ?</p>
<p>napa est ce qui manque à npm où bower avait justement son utilité : télécharger n’importe quel <em>package</em> <em>front</em> n’importe où. Mais plutôt que d’installer un autre <em>packager</em>, napa s’insère directement dans npm afin de ne pas perturber le <em>workflow</em>, et ça, j’apprécie grandement.</p>
<p>Simple, tout simple. Dans un premier temps, téléchargez-le :</p>
<pre><code>$ npm install napa --<span class="hljs-built_in">save</span>-<span class="hljs-built_in">dev</span>
</code></pre><p>Cela ajoutera napa au <code>package.json</code>.</p>
<p>Puis dans <code>package.json</code>, ajoutez :</p>
<pre><code>{
  "<span class="hljs-attribute">scripts</span>": <span class="hljs-value">{
    "<span class="hljs-attribute">install</span>": <span class="hljs-value"><span class="hljs-string">"napa"</span>
  </span>}
</span>}
</code></pre><p>Cela permettra de lancer napa à chaque fois que vous faites <code>npm install</code>.</p>
<p>Afin d’ajouter les projets qui seront téléchargés par napa et donc par npm, il suffit d’ajouter un objet <code>napa</code> toujours dans <code>package.json</code> :</p>
<pre><code>{
  "<span class="hljs-attribute">napa</span>": <span class="hljs-value">{
    "<span class="hljs-attribute">foo</span>": <span class="hljs-value"><span class="hljs-string">"username/repo"</span></span>,
    "<span class="hljs-attribute">bar</span>": <span class="hljs-value"><span class="hljs-string">"git@example.com:user/repo"</span>
  </span>}
</span>}
</code></pre><p>ce qui donne au final :</p>
<pre><code>{
  "<span class="hljs-attribute">scripts</span>": <span class="hljs-value">{
    "<span class="hljs-attribute">install</span>": <span class="hljs-value"><span class="hljs-string">"napa"</span>
  </span>}</span>,
  "<span class="hljs-attribute">napa</span>": <span class="hljs-value">{
    "<span class="hljs-attribute">foo</span>": <span class="hljs-value"><span class="hljs-string">"username/repo"</span></span>,
    "<span class="hljs-attribute">bar</span>": <span class="hljs-value"><span class="hljs-string">"git@example.com:user/repo"</span>
  </span>}
</span>}
</code></pre><p>Je vous ai volontairement donné la version structurée (et/ou explicite) parce que d’une, c’est celle que j’utilise :D et de deux, c’est celle que je trouve la plus claire, mais il y a d’<a href="https://github.com/shama/napa#want-to-name-the-package-something-else">autres façons</a> de l’écrire.</p>
<p>On se retrouve alors dans la vraie vie à avoir un <code>package.json</code> comme ceci :</p>
<pre><code>{
  "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"my-project"</span></span>,
  "<span class="hljs-attribute">version</span>": <span class="hljs-value"><span class="hljs-string">"1.0.0"</span></span>,
  "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"Brilliant project"</span></span>,
  "<span class="hljs-attribute">scripts</span>": <span class="hljs-value">{
    "<span class="hljs-attribute">install</span>": <span class="hljs-value"><span class="hljs-string">"napa"</span>
  </span>}</span>,
  "<span class="hljs-attribute">devDependencies</span>": <span class="hljs-value">{
    "<span class="hljs-attribute">animate.css</span>": <span class="hljs-value"><span class="hljs-string">"git://github.com/daneden/animate.css#3.1.1"</span></span>,
    "<span class="hljs-attribute">backbone</span>": <span class="hljs-value"><span class="hljs-string">"^1.1.2"</span></span>,
    "<span class="hljs-attribute">jquery</span>": <span class="hljs-value"><span class="hljs-string">"^1.9.0"</span></span>,
    "<span class="hljs-attribute">jquery-migrate</span>": <span class="hljs-value"><span class="hljs-string">"git://github.com/jquery/jquery-migrate#1.2.1"</span></span>,
    "<span class="hljs-attribute">lodash</span>": <span class="hljs-value"><span class="hljs-string">"^2.4.1"</span></span>,
    "<span class="hljs-attribute">moment</span>": <span class="hljs-value"><span class="hljs-string">"^2.6.0"</span></span>,
    "<span class="hljs-attribute">napa</span>": <span class="hljs-value"><span class="hljs-string">"^0.4.1"</span></span>,
    "<span class="hljs-attribute">putainde-cookie</span>": <span class="hljs-value"><span class="hljs-string">"^0.2.0"</span>
  </span>}</span>,
  "<span class="hljs-attribute">napa</span>": <span class="hljs-value">{
    "<span class="hljs-attribute">swfobject</span>": <span class="hljs-value"><span class="hljs-string">"swfobject/swfobject#a22b7db077abc126d6aa5f2d0f44b11e4ed97940"</span></span>,
    "<span class="hljs-attribute">modernizr</span>": <span class="hljs-value"><span class="hljs-string">"Modernizr/Modernizr#v2.8.1"</span>
  </span>}</span>,
  "<span class="hljs-attribute">repository</span>": <span class="hljs-value"><span class="hljs-string">"git://github.com/my/project.git"</span></span>,
  "<span class="hljs-attribute">author</span>": <span class="hljs-value"><span class="hljs-string">"Myself"</span></span>,
  "<span class="hljs-attribute">license</span>": <span class="hljs-value"><span class="hljs-string">"BSD"</span></span>,
  "<span class="hljs-attribute">readmeFilename</span>": <span class="hljs-value"><span class="hljs-string">"readme.md"</span>
</span>}
</code></pre><p>Top non ?</p>
<p>Note : napa et npm-shrinkwrap, c’est pas encore ça, alors n’hésitez pas à supprimer la partie “napa” avant de lancer votre génération de npm-shrinkwrap.</p>
<p>Bon download à vous.</p>
</div></div><footer class="putainde-Post-footer"><div class="putainde-Post-footer-title">Action sur cette page</div><div class="r-Grid"><div class="r-Grid-cell r-all--1of3"><a class="putainde-Post-footer-action" href="http://github.com/putaindecode/putaindecode.fr/edit/master/content/posts/nodejs/napa-ou-comment-telecharger-package-napa-package-json/index.md">Modifier</a></div><div class="r-Grid-cell r-all--1of3"><a class="putainde-Post-footer-action" href="http://github.com/putaindecode/putaindecode.fr/blame/master/content/posts/nodejs/napa-ou-comment-telecharger-package-napa-package-json/index.md">Tracer les changements</a></div><div class="r-Grid-cell r-all--1of3"><a class="putainde-Post-footer-action" href="http://github.com/putaindecode/putaindecode.fr/commits/master/content/posts/nodejs/napa-ou-comment-telecharger-package-napa-package-json/index.md">Historique</a></div></div><div><div class="putainde-Author undefined"><a href="http://kud.io" class="putainde-Avatar putainde-Author-picture"><img class="js-AnimateLoad" src="https://avatars.githubusercontent.com/u/655838?v=3&amp;s=128" alt=""></a><div class="putainde-Author-description"><div class="putainde-Author-title"><h3 class="putainde-Author-name"><span class="putainde-WrittenBy">Écrit par </span><a class="putainde-Link" href="http://kud.io">kud</a></h3><div class="putainde-Author-social"><a href="http://kud.io" class="r-Tooltip r-Tooltip--top" data-r-tooltip="Website"><img class="putainde-Icon" src="/icons/home.svg"></a><a href="https://twitter.com/_kud" class="r-Tooltip r-Tooltip--top" data-r-tooltip="Twitter"><img class="putainde-Icon" src="/icons/twitter.svg"></a><a href="https://github.com/kud" class="r-Tooltip r-Tooltip--top" data-r-tooltip="Github"><img class="putainde-Icon" src="/icons/github.svg"></a></div></div><p class="putainde-Author-bio">Viking UI engineer (avec une pointe de node.js), batteur, s&#x27;essayant à la photographie, aime le cinema.</p></div></div></div><div class="putainde-Contributors"><strong class="putainde-Contributors-label">2 contributeurs</strong><div class="putainde-Contributor r-Tooltip r-Tooltip--bottom r-Tooltip--allowNewLines" data-r-tooltip="MoOx
(3 commits)"><a href="http://moox.io/" class="putainde-Avatar putainde-Contributor-avatar"><img class="js-AnimateLoad" src="https://avatars.githubusercontent.com/u/157534?v=3&amp;s=128" alt=""></a></div><div class="putainde-Contributor r-Tooltip r-Tooltip--bottom r-Tooltip--allowNewLines" data-r-tooltip="kud
(2 commits)"><a href="http://kud.io" class="putainde-Avatar putainde-Contributor-avatar"><img class="js-AnimateLoad" src="https://avatars.githubusercontent.com/u/655838?v=3&amp;s=128" alt=""></a></div></div><div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div></footer></div></article></div><div class="putainde-Footer"><div class="r-Grid"><div class="r-Grid-cell r-all--3of12"><p class="putainde-Footer-text">© 1970 - 2015 Putain de code !</p></div><div class="r-Grid-cell r-all--6of12"><ul class="putainde-Footer-list"><li><a href="/feed.xml">Flux RSS</a></li><li><a href="/projets">Projets</a></li><li><a href="https://github.com/putaindecode/forum/issues">Forum</a></li><li><a href="irc://irc.freenode.net/putaindecode">IRC</a></li><li><a href="https://github.com/putaindecode/" data-r-tooltip="GitHub" class="r-Tooltip r-Tooltip--top"><img class="putainde-Icon" src="/icons/github.svg"></a></li><li><a href="https://twitter.com/putaindecode/" data-r-tooltip="Twitter" class="r-Tooltip r-Tooltip--top"><img class="putainde-Icon" src="/icons/twitter.svg"></a></li></ul></div><div class="r-Grid-cell r-all--3of12"><p class="putainde-Footer-text putainde-Footer-text--small putainde-Footer-text--right">Made with ♥︎</p></div></div></div><script>var _gaq=[["_setAccount","UA-43771806-1"],["_trackPageview"]];(function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];g.src="//www.google-analytics.com/ga.js";s.parentNode.insertBefore(g,s)}(document,"script"));</script><script>var disqus_shortname = "putaindecode";
var disqus_identifier = "http://putaindecode.fr/posts/nodejs/napa-ou-comment-telecharger-package-napa-package-json/";
var disqus_url = "http://putaindecode.fr/posts/nodejs/napa-ou-comment-telecharger-package-napa-package-json/";
var disqus_script = "embed.js";

(function(d,s) {
  s = d.createElement('script');s.async=1;s.src = '//' + disqus_shortname + '.disqus.com/'+disqus_script;
  (d.getElementsByTagName('head')[0]).appendChild(s)
})(document)
    </script></body></html>